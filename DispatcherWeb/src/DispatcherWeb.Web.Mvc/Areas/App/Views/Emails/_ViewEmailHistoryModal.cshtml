@using System.Threading.Tasks
@using DispatcherWeb.Emailing.Dto
@using DispatcherWeb.Web.Areas.App.Models.Common.Modals
@model GetEmailHistoryInput
@await Html.PartialAsync("~/Areas/app/Views/Common/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel("Email History"))

<div class="modal-body box-wrap">
    
    <div class="box-container">
        <form>
            <div class="row">
                @*<div class="form-group col-lg-3 col-md-4 col-sm-6">
                    <label class="control-label" for="DateFilter">Date</label>
                    <input class="form-control" id="DateFilter" type="text">
                    <input type="hidden" class="filter" name="StartDate" id="StartDateFilter" />
                    <input type="hidden" class="filter" name="EndDate" id="EndDateFilter" />
                </div>*@
                <div class="form-group col-lg-3 col-md-4 col-sm-6">
                    <label class="control-label" for="OrderId">Order Id</label>
                    <input class="form-control filter" id="OrderIdFilter" name="OrderId" value="@Model.OrderId" type="text">
                </div>
                <div class="form-group col-lg-3 col-md-4 col-sm-6">
                    <label class="control-label" for="CustomerIdFilter">Customer</label>
                    <select class="form-control filter" name="CustomerId" id="CustomerIdFilter">
                        <option value="">Select a customer</option>
                        @if (Model.CustomerId.HasValue)
                        {
                            <option selected value="@Model.CustomerId">@Model.CustomerName</option>
                        }
                    </select>
                </div>
                <div class="form-group col-lg-6 col-md-4 col-sm-6">
                    <label class="control-label" for="QuoteIdFilter">Quote</label>
                    <select class="form-control filter" name="QuoteId" id="QuoteIdFilter">
                        <option value=""
                                data-placeholder-default="Select a quote"
                                data-placeholder-no-items="No quotes defined for the selected customer"
                                data-placeholder-no-parent="Select a customer first">
                            Select a quote
                        </option>
                        @if (Model.QuoteId.HasValue)
                        {
                            <option selected value="@Model.QuoteId">@Model.QuoteName</option>
                        }
                    </select>
                </div>
            </div>
            <div class="row box-filter-buttons">
                <div class="col-lg-12 text-right">
                    <button type="submit" id="SearchButton" class="btn btn-default">
                        <i class="fa fa-search"></i> Search
                    </button>
                    <button type="button" id="ClearSearchButton" class="btn btn-default">
                        <i class="fa fa-times"></i> Clear
                    </button>
                </div>
            </div>
        </form>
    </div>
    <table class="table table-striped table-bordered table-hover dt-responsive" id="EmailHistoryTable"></table>
</div>

@await Html.PartialAsync("~/Areas/app/Views/Common/Modals/_ModalFooterWithSaveAndCancel.cshtml")
